{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d6de75c9_bf30a342",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 11801
      },
      "writtenOn": "2022-08-23T15:02:47Z",
      "side": 1,
      "message": "I should\u0027ve looked harder when submitting this on 18.1 and 19.0, but this patch is not necessary and should *never* have been forward ported because it\u0027s a no-op. An upstream patch fixed this long ago (https://github.com/LineageOS/android_frameworks_native/commit/a8f0f242299d620caa292dc2312f77bcf1d90f4b) and that was noted on both the 14.1 and 15.1 submissions of this patch.",
      "revId": "a8f0f242299d620caa292dc2312f77bcf1d90f4b",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c7d98244_244a35ed",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 4550
      },
      "writtenOn": "2022-08-23T15:14:04Z",
      "side": 1,
      "message": "You have linked the wrong commit",
      "parentUuid": "d6de75c9_bf30a342",
      "revId": "a8f0f242299d620caa292dc2312f77bcf1d90f4b",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "57b583e5_7e5924a9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 11801
      },
      "writtenOn": "2022-08-23T15:18:25Z",
      "side": 1,
      "message": "Kind of. That commit was the one that AOSP had when the 14.1 and 15.1 patches were abandoned. The code has been changed since then, because of https://github.com/LineageOS/android_frameworks_native/commit/8af03060a9ee64c48ac8342be8775f7d54f9ec20 -- however that was the patch that fixed the issue. Either way, the 18.1 and 19.0 ports both have the commit I just linked, so the function returns right before this null check.",
      "parentUuid": "c7d98244_244a35ed",
      "revId": "a8f0f242299d620caa292dc2312f77bcf1d90f4b",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "54b52ad2_1b710f69",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 14048
      },
      "writtenOn": "2022-08-23T16:15:28Z",
      "side": 1,
      "message": "This was not a no-op on 18.1, it was very much needed. Glancing at 19.0 and 20.0, it looks like it is, however. Don\u0027t know how I missed that. What it was originally written for back on N was resolved upstream, but other issues came up on R that it was necessary for.",
      "revId": "a8f0f242299d620caa292dc2312f77bcf1d90f4b",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1723d795_de3fdf09",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 11801
      },
      "writtenOn": "2022-08-23T16:25:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "57b583e5_7e5924a9",
      "revId": "a8f0f242299d620caa292dc2312f77bcf1d90f4b",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a6c607fd_0970d228",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 11801
      },
      "writtenOn": "2022-08-23T16:25:44Z",
      "side": 1,
      "message": "It was a no-op in 18.1: https://review.lineageos.org/c/LineageOS/android_frameworks_native/+/327375/2/opengl/libs/EGL/egl_object.cpp#316, and you even abandoned the 15.1 patch as a result of the code that exists in 18.1: https://review.lineageos.org/c/LineageOS/android_frameworks_native/+/213272",
      "parentUuid": "54b52ad2_1b710f69",
      "revId": "a8f0f242299d620caa292dc2312f77bcf1d90f4b",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cd9e68a2_f87b8a60",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 11801
      },
      "writtenOn": "2022-08-23T16:28:26Z",
      "side": 1,
      "message": "I should be careful, technically it\u0027s not a no-op because it does *something*, but it does nothing *useful* in 18.1 AFAICT, based on previous patches and versions.",
      "parentUuid": "a6c607fd_0970d228",
      "revId": "a8f0f242299d620caa292dc2312f77bcf1d90f4b",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1dba3a57_35740d7a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 14048
      },
      "writtenOn": "2022-08-23T17:11:27Z",
      "side": 1,
      "message": "What it does is reset the gl error. glGetString for extensions returns null on desktop gl, because glGetStringi is supposed to be used. And so this call sets an error. If that error isn\u0027t cleared via glGetError, that error gets propagated to the calling app, which causes many to fail. So no, not anywhere close to a no-op. This should still be an issue on 19.1, so I think I did that wrong and needs revisiting. Then this commit updated with a squash of the fix.",
      "parentUuid": "cd9e68a2_f87b8a60",
      "revId": "a8f0f242299d620caa292dc2312f77bcf1d90f4b",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "532aa6be_23fd93c1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 11801
      },
      "writtenOn": "2022-08-23T18:05:49Z",
      "side": 1,
      "message": "Right, which is why I amended my statement to say I don\u0027t think it does anything useful -- it was V+1\u0027ed in 19.1 (where it is a no-op) and dropped on 14.1 and 15.1 following just the addition of a null check, I\u0027m a little skeptical that it\u0027s actually necessary to clear the GL error flag. The patch description also seems to imply the real issue is the NPE (really, NPD, but anyways), not the GL error flag. I\u0027d want to see some evidence of the breakage before anything is submitted moving forward.",
      "parentUuid": "1dba3a57_35740d7a",
      "revId": "a8f0f242299d620caa292dc2312f77bcf1d90f4b",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    }
  ]
}